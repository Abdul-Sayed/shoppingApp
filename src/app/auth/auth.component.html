<div class="container-fluid">
  <div class="loader-container" *ngIf="isLoading && !error">
    <app-loading-spinner></app-loading-spinner>
  </div>
  <app-alert
    *ngIf="error"
    [message]="error"
    (close)="onCloseAlert()"
  ></app-alert>
  <form class="row g-3" *ngIf="!isLoading" (ngSubmit)="onSubmit(f)" #f="ngForm">
    <div class="form-group col-md-6 col-md-offset-3">
      <label for="inputEmail" class="form-label">Email</label>
      <input
        type="email"
        class="form-control"
        id="inputEmail"
        name="email"
        ngModel
        #email="ngModel"
        email
        required
      />
      <span
        *ngIf="!email.valid && email.touched"
        style="color: red; font-size: smaller"
        >Email Invalid</span
      >
    </div>
    <div class="form-group col-md-6 col-md-offset-3">
      <label for="inputPassword" class="form-label">Password</label>
      <input
        type="password"
        class="form-control"
        id="inputPassword"
        name="password"
        ngModel
        #password="ngModel"
        required
        minlength="6"
      />
    </div>
    <span
      *ngIf="!password.valid && password.touched"
      style="color: red; font-size: smaller"
      >Please enter a password</span
    >
    <div class="form-group col-12">
      <button class="btn btn-primary" type="submit" [disabled]="!f.valid">
        {{ isLoginMode ? "Log In" : "Sign Up" }}
      </button>
      <button class="btn btn-primary" (click)="onSwitchMode()" type="button">
        Switch to {{ isLoginMode ? "Sign Up" : "Log In" }}
      </button>
    </div>
  </form>
</div>
